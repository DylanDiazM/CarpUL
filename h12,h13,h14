import 'package:flutter/material.dart';

class UserProfile extends StatelessWidget {
  final double saldo;
  final int cantidadViajes;
  final double kmRecorridos;

  UserProfile({
    required this.saldo,
    required this.cantidadViajes,
    required this.kmRecorridos,
  });

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Perfil'),
      ),
      body: Column(
        children: [
          ListTile(
            leading: Icon(Icons.attach_money),
            title: Text('Saldo'),
            subtitle: Text('\$$saldo'),
          ),
          ListTile(
            leading: Icon(Icons.directions_car),
            title: Text('Cantidad de Viajes'),
            subtitle: Text('$cantidadViajes'),
          ),
          ListTile(
            leading: Icon(Icons.timeline),
            title: Text('Kilómetros Recorridos'),
            subtitle: Text('$kmRecorridos km'),
          ),
        ],
      ),
    );
  }
}

class FAQPage extends StatelessWidget {
  final List<String> preguntasFrecuentes = [
    '¿Cómo puedo registrarme en la aplicación?',
    '¿Cuáles son los métodos de pago aceptados?',
    '¿Cómo puedo contactar al soporte técnico?',
    // Agrega más preguntas frecuentes según sea necesario
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Preguntas Frecuentes'),
      ),
      body: ListView.builder(
        itemCount: preguntasFrecuentes.length,
        itemBuilder: (context, index) {
          return ListTile(
            title: Text(preguntasFrecuentes[index]),
          );
        },
      ),
      floatingActionButton: FloatingActionButton(
        child: Icon(Icons.chat),
        onPressed: () {
          Navigator.push(
            context,
            MaterialPageRoute(
              builder: (context) => SupportChat(),
            ),
          );
        },
      ),
    );
  }
}

class SupportChat extends StatefulWidget {
  @override
  _SupportChatState createState() => _SupportChatState();
}

class _SupportChatState extends State<SupportChat> {
  final TextEditingController _messageController = TextEditingController();
  final List<String> _messages = [];

  void _sendMessage() {
    setState(() {
      _messages.add(_messageController.text);
      _messageController.clear();
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Soporte Técnico'),
      ),
      body: Column(
        children: [
          Expanded(
            child: ListView.builder(
              itemCount: _messages.length,
              itemBuilder: (context, index) {
                return ListTile(
                  title: Text(_messages[index]),
                );
              },
            ),
          ),
          Divider(),
          ListTile(
            leading: Icon(Icons.message),
            title: TextField(
              controller: _messageController,
              decoration: InputDecoration(
                hintText: 'Escribe un mensaje...',
              ),
            ),
            trailing: IconButton(
              icon: Icon(Icons.send),
              onPressed: _sendMessage,
            ),
          ),
        ],
      ),
    );
  }
}

class MainMenu extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Menú Principal'),
        actions: [
          IconButton(
            icon: Icon(Icons.person),
            onPressed: () {
              Navigator.push(
                context,
                MaterialPageRoute(
                  builder: (context) => UserProfile(
                    saldo: 500.0, // Ejemplo de saldo actual del usuario
                    cantidadViajes: 10, // Ejemplo de cantidad de viajes realizados
                    kmRecorridos: 250.0, // Ejemplo de kilómetros recorridos
                  ),
                ),
              );
            },
          ),
        ],
      ),
      body: Center(
        child: Text('Contenido del menú principal'),
      ),
      floatingActionButton: FloatingActionButton(
        child: Icon(Icons.help),
        onPressed: () {
          Navigator.push(
            context,
            MaterialPageRoute(
              builder: (context) => FAQPage(),
            ),
          );
        },
      ),
    );
  }
}

void main() {
  runApp(MaterialApp(
    home: MainMenu(),
  ));
}
